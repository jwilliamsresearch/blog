/* Enhanced Interactions Fixes - Ensure custom colors and background images work */

/* Fix for background images in clip text */
.header-base h1.clip {
    color: transparent !important;
    background-position: center center !important;
    background-attachment: fixed !important;
    background-size: cover !important;
    background-clip: text !important;
    -webkit-background-clip: text !important;
    -webkit-text-fill-color: transparent !important;
    background-repeat: no-repeat !important;
}

/* CRITICAL: Force custom displaytheme colors to work */
article[style*="background-color:"] {
    color: white !important;
}

/* Force all blog post sections to use their custom colors */
.posts article,
.post article {
    color: white !important;
}

/* Ensure text is white in colored sections */
.posts article h3,
.posts article h4,
.posts article h5,
.posts article p,
.posts article .lead,
.posts article a,
.post article h3,
.post article h4,
.post article h5,
.post article p,
.post article .lead,
.post article a {
    color: white !important;
    text-decoration: none !important;
}

/* Remove underlines from all links in colored sections */
.posts article a,
.post article a {
    text-decoration: none !important;
    border-bottom: none !important;
}

/* Fix for custom displaytheme colors - more specific */
[style*="background-color:"] {
    color: white !important;
}

[style*="background-color:"] h3,
[style*="background-color:"] h4,
[style*="background-color:"] h5,
[style*="background-color:"] p,
[style*="background-color:"] .lead,
[style*="background-color:"] a {
    color: white !important;
    text-decoration: none !important;
}

/* Ensure Bootstrap Icons are visible */
.bi {
    display: inline-block;
    font-family: "bootstrap-icons" !important;
    font-style: normal;
    font-weight: normal !important;
    font-variant: normal;
    text-transform: none;
    line-height: 1;
    vertical-align: middle;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* Prevent enhanced-interactions from overriding important styles */
.geometric-bg {
    z-index: -1 !important;
    pointer-events: none !important;
}

.scroll-indicator {
    z-index: 9999 !important;
}

/* Ensure reveal animations don't break layout */
.reveal {
    opacity: 1 !important;
    transform: none !important;
}

.reveal.revealed {
    opacity: 1 !important;
    transform: none !important;
}

/* Fix for navbar shrink */
.navbar.scrolled {
    background-color: rgba(255, 255, 255, 0.95) !important;
    backdrop-filter: blur(10px) !important;
}

/* Ensure card enhancements don't break existing styles */
.card {
    transition: transform 0.3s ease, box-shadow 0.3s ease !important;
}

/* Fix for any transform conflicts */
.card:hover {
    transform: translateY(-4px) scale(1.01) !important;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15) !important;
}

/* Fix for images in posts - contain them to 80% */
.entry img,
.post img,
article img {
    max-width: 80% !important;
    height: auto !important;
    display: block !important;
    margin: 1rem auto !important;
    border-radius: 8px !important;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1) !important;
}

/* Override any enhanced-interactions background interference */
.bg-green {
    background: linear-gradient(135deg, #4ac97f 0%, #5dd18f 50%, #70d99f 100%) !important;
    box-shadow: 0 4px 20px rgba(74, 201, 127, 0.3) !important;
    color: white !important;
}

/* CRITICAL: Preserve custom displaytheme colors and ensure they work */
div[style*="background-color:"] {
    color: white !important;
}

div[style*="background-color:"] h3,
div[style*="background-color:"] h4,
div[style*="background-color:"] h5,
div[style*="background-color:"] p,
div[style*="background-color:"] .lead,
div[style*="background-color:"] a {
    color: white !important;
    text-decoration: none !important;
}

/* If an element declares an inline background-color, disable theme gradients */
.bg-green[style*="background-color:"],
[style*="background-color:"] {
    background-image: none !important;
}

/* Force all links to not be underlined */
a {
    text-decoration: none !important;
}

a:hover {
    text-decoration: none !important;
}

/* Home post cards grid */
.posts-grid { align-items: stretch; }
.post-card { border-radius: 14px; overflow: hidden; border: none; background: #fff; box-shadow: 0 6px 22px rgba(0,0,0,.06); transition: transform .12s ease, box-shadow .2s ease; }
.post-card:hover { transform: translateY(-2px); box-shadow: 0 10px 28px rgba(0,0,0,.09); }
.post-cover { height: 180px; background-size: cover; background-position: center; background-repeat: no-repeat; }
.post-title { color: #2c3e50; }
.post-subtitle { color: #6b7280; min-height: 2.5rem; }
.post-meta { color: #6b7280; }
.tag-chip { display: inline-block; padding: .15rem .5rem; border-radius: 999px; font-size: .75rem; background: rgba(45,49,66,.08); color: #2d3142; }

@media (max-width: 576px) {
    .post-cover { height: 160px; }
}
/* Modern pagination styles */
.pagination-modern .pagination {
    gap: .25rem;
}

.pagination-modern .page-item .page-link {
    border: none !important;
    border-radius: 999px !important;
    padding: .5rem .8rem !important;
    min-width: 2.25rem;
    text-align: center;
    background: #f2f3f5;
    color: #2c3e50;
    box-shadow: inset 0 0 0 1px rgba(0,0,0,0.06);
    transition: background .2s ease, color .2s ease, box-shadow .2s ease, transform .1s ease;
}

.pagination-modern .page-item .page-link:hover {
    background: #e9ecef;
}

.pagination-modern .page-item.active .page-link,
.pagination-modern .page-item .page-link[aria-current="page"] {
    background: #2d3142;
    color: #fff;
    box-shadow: 0 2px 8px rgba(45,49,66,.25);
}

.pagination-modern .page-item.disabled .page-link {
    background: #f7f7f9;
    color: #a0a6b0;
    box-shadow: inset 0 0 0 1px rgba(0,0,0,0.04);
    pointer-events: none;
}

.pagination-modern .page-link.ellipsis {
    background: transparent;
    box-shadow: none;
}

@media (max-width: 576px) {
  .pagination-modern .pagination { gap: .2rem; }
  .pagination-modern .page-item .page-link { padding: .45rem .7rem; min-width: 2rem; }
}

/* Post pager styles */
.post-pager .pager-card {
    flex: 1 1 0;
    min-height: 84px;
    padding: 1rem 1.25rem;
    border-radius: 12px;
    background: #f8f9fb;
    box-shadow: inset 0 0 0 1px rgba(0,0,0,0.06);
    color: #2c3e50;
    transition: background .2s ease, transform .1s ease, box-shadow .2s ease;
}
.post-pager .pager-card:hover { background: #eef1f5; transform: translateY(-1px); box-shadow: 0 2px 10px rgba(0,0,0,.06); }
.post-pager .pager-card.disabled { visibility: hidden; }

/* Recommendation cards */
.post-recommendations .card { border: none; border-radius: 12px; box-shadow: 0 4px 18px rgba(0,0,0,.06); overflow: hidden; }
.post-recommendations .card-img-top.placeholder { height: 140px; }
.post-recommendations img.card-img-top { height: 140px; object-fit: cover; }
.post-recommendations .card-cover { height: 160px; background-size: cover; background-position: center; background-repeat: no-repeat; }
.post-recommendations .card-title { color: #2c3e50; }
.post-recommendations .card-text { color: #4a5568; }
